\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{docethuebung}[2012/09/27 definitions for documentation of ethuebung package]


\newcounter{pkgdef}

\definecolor{pkgcmdref}{rgb}{0.5,0.5,0.5}
\newcommand{\pkgcmd}[2][$^\text{\textcolor{pkgcmdref}{(page~\pageref{pkgdef:\thepkgcmdname})}}$]{%
  \def\thepkgcmdname{#2}%
  \texttt{\textbackslash{#2}}#1%
}
\newcommand{\pkgenv}[2][$^\text{\textcolor{pkgcmdref}{(page~\pageref{pkgdef:\thepkgenvname})}}$]{%
  \def\thepkgenvname{#2}%
  \texttt{\textbackslash begin\{{#2}\}$\ldots$\textbackslash end\{{#2}\}}#1%
}


\newcounter{pkgbracestmp}
\newcommand{\pkgbracesdo}{%
  \ifnum\value{pkgbracestmp}=0%
    \message{is-zero.}%
  \else%
    \{$\ldots$\}%
    \addtocounter{pkgbracestmp}{-1}%
    \message{is \thepkgbracestmp}\pkgbracesdo%
  \fi%
}
\newcommand{\pkgbraces}[1]{\setcounter{pkgbracestmp}{#1}\pkgbracesdo}

\newcommand{\pkgobjectdefinition}[3]{%
  \vspace*{0.5cm}%
  \refstepcounter{pkgdef}\expandafter\label{pkgdef:#1}%
  \noindent\framebox{\hspace*{0.1\textwidth}\begin{minipage}{0.8\textwidth}\vspace*{1mm}%
      \noindent%
      #2%
      \vspace*{1mm}%
    \end{minipage}\hspace*{0.09\textwidth}%
  }%
  \vspace*{0.5cm}

}
\newcommand{\pkgcmddoc}[3][0]{\pkgobjectdefinition{#2}{%
    \hspace*{-1cm}\texttt{\textbf{\textbackslash #2\pkgbraces{#1}}}\hspace*{0.7cm}%
    #3%
  }%
}
\newcommand{\pkgenvdoc}[3][0]{\pkgobjectdefinition{#2}{%
    \hspace*{-1cm}\texttt{\textbf{\textbackslash begin\{#2\}\pkgbraces{#1} $\ldots$ \textbackslash end\{#2\}}}\\%
    #3%
  }%
}

\newenvironment{pkgverbatim}{% begin defs
  \begin{oframed}\vspace*{-5mm}%
}{% end defs
  \vspace*{-5mm}\end{oframed}%
}



\definecolor{tiptextcolor}{rgb}{0.2, 0.2, 0.5}

\newenvironment{pkgtip}{% begin defs
  \definecolor{shadecolor}{rgb}{0.90, 1, 0.95}%
  \begin{shaded*}%
    \makebox[0pt][l]{{\footnotesize\sffamily \textcolor{tiptextcolor}{TIP}}}
    \hspace*{0.1\textwidth}%
    \begin{minipage}[t]{0.8\textwidth}\textcolor{tiptextcolor}\bgroup\noindent%
}{% end defs
      \egroup%
    \end{minipage}%
    \hspace*{0.09\textwidth}%
  \end{shaded*}%
}


\newcommand{\pkgcmdindex}[2]{
  \par\noindent{\bfseries {\pkgcmd[]{#1}}}~\\
  \hspace*{0.05\textwidth}\begin{minipage}{0.9\textwidth}
    #2
    See page~\pageref{pkgcmd:#1}.
  \end{minipage}
}
