\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{docethuebung}[2012/09/27 definitions for documentation of ethuebung package]


\newcommand\cmdname[1]{{\fontseries{m}\selectfont\texttt{\textbackslash #1}}}


\newcounter{pkgdef}

\definecolor{pkgcmdref}{rgb}{0.5,0.5,0.5}
\newcommand{\pkgcmd}[2][$^\text{\textcolor{pkgcmdref}{(page~\pageref{pkgdef:\thepkgcmdname})}}$]{%
  \def\thepkgcmdname{#2}%
  {\fontseries{m}\selectfont\texttt{\textbackslash{#2}}}#1%
}
\newcommand{\pkgenv}[2][$^\text{\textcolor{pkgcmdref}{(page~\pageref{pkgdef:\thepkgenvname})}}$]{%
  \def\thepkgenvname{#2}%
  {\fontseries{m}\selectfont\texttt{\textbackslash begin\{{#2}\}$\ldots$\textbackslash end\{{#2}\}}}#1%
}


\newcounter{pkgbracestmp}
\newcommand{\pkgbracesdo}{%
  \ifnum\value{pkgbracestmp}=0%
    \message{is-zero.}%
  \else%
    \{$\ldots$\}%
    \addtocounter{pkgbracestmp}{-1}%
    \message{is \thepkgbracestmp}\pkgbracesdo%
  \fi%
}
\newcommand{\pkgbraces}[1]{\setcounter{pkgbracestmp}{#1}\pkgbracesdo}

\definecolor{pkgobjdefcolor}{rgb}{1,0.9,0.9}
\newcommand{\pkgobjectdefinition}[3]{%
  \vspace*{0.5cm}%
  \refstepcounter{pkgdef}\expandafter\label{pkgdef:#1}%
  \noindent\colorbox{pkgobjdefcolor}{\framebox{\hspace*{0.1\textwidth}\begin{minipage}{0.8\textwidth}\vspace*{1mm}%
        \noindent%
        #2%
        \vspace*{1mm}%
      \end{minipage}\hspace*{0.07\textwidth}%
    }% framebox
  }% colorbox
  \vspace*{0.5cm}

}
\newcommand{\pkgcmddoc}[3][0]{\pkgobjectdefinition{#2}{%
    \hspace*{-1cm}{\texttt{{\textbackslash #2\pkgbraces{#1}}}}\hspace*{0.7cm}%
    #3%
  }%
}
\newcommand{\pkgenvdoc}[3][0]{\pkgobjectdefinition{#2}{%
    \hspace*{-1cm}\texttt{{\textbackslash begin\{#2\}\pkgbraces{#1} $\ldots$ \textbackslash end\{#2\}}}\\%
    #3%
  }%
}

\newenvironment{pkgverbatim}[1][-5mm]{% begin defs
  \def\pkgverbatimvspacing{#1}
  \begin{oframed}\vspace*{\pkgverbatimvspacing}%
}{% end defs
  \vspace*{\pkgverbatimvspacing}\end{oframed}%
}



\newenvironment{pkgmsgbox}[3]{% begin defs
  \definecolor{shadecolor}{rgb}{#1}%
  \begin{shaded*}%
    \makebox[0pt][l]{#3}
    \hspace*{0.1\textwidth}%
    \begin{minipage}[t]{0.8\textwidth}\textcolor{#2}\bgroup\noindent%
}{% end defs
      \egroup%
    \end{minipage}%
    \hspace*{0.09\textwidth}%
  \end{shaded*}%
}
\definecolor{tiptextcolor}{rgb}{0.2, 0.4, 0.3}
\newenvironment{pkgtip}{%
  \begin{pkgmsgbox}{0.90,1,0.95}{tiptextcolor}{{\footnotesize\sffamily\textcolor{tiptextcolor}{TIP}}}%
  }{%
  \end{pkgmsgbox}%
}
%\definecolor{noticetextcolor}{rgb}{0.1, 0, 0.5}
\definecolor{noticetextcolor}{rgb}{0.5,0,0}
\definecolor{noticemarkcolor}{rgb}{0.4,0,0}
\newenvironment{pkgnotice}{%
  \begin{pkgmsgbox}{1,0.9,0.95}{noticetextcolor}{\raisebox{-2mm}{\Large\sffamily\bfseries\textcolor{noticemarkcolor}{[$\;$!$\;$]}}}%
  }{%
  \end{pkgmsgbox}%
}


\newcommand{\pkgcmdindex}[2]{
  \par\noindent{ {\pkgcmd[]{#1}}}~\\
  \hspace*{0.05\textwidth}\begin{minipage}{0.9\textwidth}
    #2
    See page~\pageref{pkgdef:#1}.
  \end{minipage}
}



