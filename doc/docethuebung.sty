\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{docethuebung}[2012/09/27 definitions for documentation of ethuebung package]

\RequirePackage{textcomp}

\newcommand\cmdname[1]{{\fontseries{m}\selectfont\texttt{\textbackslash #1}}}


\newcounter{pkgdef}

\definecolor{pkgcmdref}{rgb}{0.5,0.5,0.5}
\newcommand{\pkgcmd}[2][$\text{~\scriptsize\textcolor{pkgcmdref}{(p.~\pageref{pkgdef:\thepkgcmdname})}}$]{%
  \def\thepkgcmdname{#2}%
  {\fontseries{m}\selectfont\texttt{\textbackslash{#2}}}#1%
}
\newcommand{\pkgenv}[2][$\text{~\scriptsize\textcolor{pkgcmdref}{(p.~\pageref{pkgdef:\thepkgenvname})}}$]{%
  \def\thepkgenvname{#2}%
  {\fontseries{m}\selectfont\texttt{\textbackslash begin\{{#2}\}$\ldots$\textbackslash end\{{#2}\}}}#1%
}


\newcounter{pkgbracestmp}
\newcommand{\pkgbracesdo}{%
  \ifnum\value{pkgbracestmp}=0%
    \message{is-zero.}%
  \else%
    \{$\ldots$\}%
    \addtocounter{pkgbracestmp}{-1}%
    \message{is \thepkgbracestmp}\pkgbracesdo%
  \fi%
}
\newcommand{\pkgbraces}[1]{\setcounter{pkgbracestmp}{#1}\pkgbracesdo}

\newcommand{\pkgoptbraces}[1]{$\langle$[$\ldots$]$\rangle$\pkgbraces{#1}}

\definecolor{pkgobjdefcolor}{rgb}{0.9,0.9,1}
\newcommand{\pkgobjectdefinition}[3]{%
  \par\vspace*{0.2cm}%
  \refstepcounter{pkgdef}\expandafter\label{pkgdef:#1}%
  \noindent\colorbox{pkgobjdefcolor}{\framebox{\hspace*{0.1\textwidth}\begin{minipage}{0.8\textwidth}\vspace*{1mm}%
        \noindent%
        #2%
        \vspace*{1mm}%
      \end{minipage}\hspace*{0.07\textwidth}%
    }% framebox
  }% colorbox
  \vspace*{0.2cm}\par
}
\newcommand{\pkgcmddoc}[3][]{\pkgobjectdefinition{#2}{%
    \hspace*{-1cm}{\texttt{{\textbackslash #2$\,$#1}}}\hspace*{0.7cm}%
    #3%
  }%
}
\newcommand{\pkgenvdoc}[3][]{\pkgobjectdefinition{#2}{%
    \hspace*{-1cm}\texttt{{\textbackslash begin\{#2\}$\,$#1 $\ldots$ \textbackslash end\{#2\}}}\\%
    #3%
  }%
}

\newenvironment{pkgverbatim}[1][-5mm]{% begin defs
  \def\pkgverbatimvspacing{#1}
  \begin{oframed}\vspace*{\pkgverbatimvspacing}%
}{% end defs
  \vspace*{\pkgverbatimvspacing}\end{oframed}%
}



\newenvironment{pkgmsgbox}[3]{% begin defs
  \definecolor{shadecolor}{rgb}{#1}%
  \begin{shaded*}%
    \makebox[0pt][l]{#3}
    \hspace*{0.1\textwidth}%
    \begin{minipage}[t]{0.8\textwidth}\textcolor{#2}\bgroup\noindent%
}{% end defs
      \egroup%
    \end{minipage}%
    \hspace*{0.09\textwidth}%
  \end{shaded*}%
}
\definecolor{tiptextcolor}{rgb}{0.1, 0.3, 0.2}
\newenvironment{pkgtip}{%
  \begin{pkgmsgbox}{0.90,1,0.95}{tiptextcolor}{{\footnotesize\sffamily\textcolor{tiptextcolor}{TIP}}}%
  }{%
  \end{pkgmsgbox}%
}
%\definecolor{noticetextcolor}{rgb}{0.1, 0, 0.5}
\definecolor{noticetextcolor}{rgb}{0.5,0,0}
\definecolor{noticemarkcolor}{rgb}{0.4,0,0}
\newcommand{\noticemark}{\textcircled{\raisebox{-0.1ex}{\relsize{-1}{!}}}}
\newenvironment{pkgnotice}{%
  \begin{pkgmsgbox}{1,0.9,0.95}{noticetextcolor}{\raisebox{-2mm}{\LARGE\sffamily\bfseries\textcolor{noticemarkcolor}{\noticemark}}}%
  }{%
  \end{pkgmsgbox}%
}


\newcommand{\pkgcmdindex}[2]{
  \par\noindent{ {\pkgcmd[]{#1}}}~\\
  \hspace*{0.05\textwidth}\begin{minipage}{0.9\textwidth}
    #2
    See page~\pageref{pkgdef:#1}.
  \end{minipage}
}











% -------------------------------------------------------------

% DEBUG ethuebung style
%
% NOT WORKING

\RequirePackage{pbox}

\definecolor{bgdebuglabel}{rgb}{0.9,0.9,0.9}
\definecolor{linedebuglabel}{rgb}{0.5,0.5,0.5}
\newlength\uebdebug@tmplen
\newcommand{\uebdebug@debugbox}[2]{%
  \protect\pbox{10cm}{%
    \fbox{\pbox{10cm}{#2}}%
    \setlength\unitlength{1pt}%
    \begin{picture}(0,0)(0,0)%
      \setlength\uebdebug@tmplen{\baselineskip}%
      \addtolength\uebdebug@tmplen{\fboxsep}%
      \addtolength\uebdebug@tmplen{-1mm}%
      \put(0,\strip@pt\uebdebug@tmplen){\makebox(0,0)[r]{\normalfont\tiny\ttfamily\colorbox{bgdebuglabel}{#1}}}%
    \end{picture}%
  }%
}

\newcommand{\uebdebug@smoothdebugbox}[3]{%
  \fbox{\protect\parbox{#3}{#2}}{\normalfont\tiny\ttfamily\colorbox{bgdebuglabel}{#1}}%
}
\newcommand{\uebdebug@mindebugbox}[2]{%
  \textcolor{linedebuglabel}{[}#2\textcolor{linedebuglabel}{]}%
  {\normalfont\tiny\ttfamily\colorbox{bgdebuglabel}{#1}}%
}

\def\uebdebug@makedebugcmdversion#1{%
  \expandafter\let\csname uebdebug@orig\string #1\endcsname#1%
  \renewcommand{#1}{\uebdebug@debugbox{\string#1}{\csname uebdebug@orig\string#1\endcsname}}%
}
\def\uebdebug@makesmoothdebugcmdversion#1#2{%
  \expandafter\let\csname uebdebug@orig\string #1\endcsname#1%
  \renewcommand{#1}{\uebdebug@smoothdebugbox{\string#1}{\csname uebdebug@orig\string#1\endcsname}{#2}}%
}
\def\uebdebug@makemindebugcmdversion#1{%
  \expandafter\let\csname uebdebug@orig\string #1\endcsname#1%
  \renewcommand{#1}{\uebdebug@mindebugbox{\string#1}{\csname uebdebug@orig\string#1\endcsname}}%
}

\newcommand{\uebstyle@Debug}{
  %\renewcommand{\thesubuebcounter}{\theuebcounter.\arabic{subuebcounter}}
  %
  %\uebdebug@makedebugcmdversion\theuebcounter
  \uebdebug@makedebugcmdversion\theUebungLecture
  \uebdebug@makedebugcmdversion\theUebungProf
  \uebdebug@makedebugcmdversion\theUebungSemester
  \uebdebug@makedebugcmdversion\uebHeaderLogo
  \uebdebug@makesmoothdebugcmdversion\uebHeaderCenter\textwidth
  \uebdebug@makesmoothdebugcmdversion\uebHeaderRight\textwidth
  \uebdebug@makedebugcmdversion\uebSerieTitle
  \uebdebug@makemindebugcmdversion\uebExerciseEqLabel
  \uebdebug@makemindebugcmdversion\uebLoesungEqLabel
  \uebdebug@makesmoothdebugcmdversion\uebTheUebungLabel{2.5cm}
  \uebdebug@makesmoothdebugcmdversion\uebTheUebungSubLabel{1cm}
  \uebdebug@makesmoothdebugcmdversion\MakeUebungHeader\textwidth
  \uebdebug@makemindebugcmdversion\ueb@loesungfont
}
